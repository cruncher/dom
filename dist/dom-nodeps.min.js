!function(e){e.console&&e.console.log&&console.log("dom         â€“ https://github.com/stephband/dom")}(this),function(e){"use strict"
function t(e){var t=Be.slice.call(arguments,1)
return function(){Be.push.apply(arguments,t),e.apply(null,arguments)}}function n(e){return(/^\//.test(e)?"":"/")+e}function r(e){var t,n=[],r=n.length=e.length
for(t=0;t<r;t++)n[t]=e[t]
return n}function o(e,t,n){this.node=e,this.get=t,this.set=n}function a(e,t){for(var n=Object.keys(t),r=n.length;r--;)e.setAttribute(n[r],t[n[r]])}function i(e,t){for(var n=Object.keys(t),r=n.length;r--;)e.setAttributeNS(null,n[r],t[n[r]])}function c(e){if(ze[e])return ze[e](arguments[1])
var t,n=document.createElement(e)
return"string"==typeof arguments[1]?(n.innerHTML=arguments[1],t=arguments[2]):t=arguments[1],t&&a(n,t),n}function u(e){return We[e.nodeType]}function d(e){return 1===e.nodeType}function s(e){return 3===e.nodeType}function f(e){return 8===e.nodeType}function l(e){return 11===e.nodeType}function m(t){var r=e.location
return t.hostname&&r.hostname===t.hostname&&r.pathname===n(t.pathname)}function v(e){var t=e.id
if(!t){do{t=Math.ceil(1e5*Math.random())}while(document.getElementById(t))
e.id=t}return t}function p(e){return e.tagName&&e.tagName.toLowerCase()}function g(e,t){return t.getAttribute&&t.getAttribute(e)||void 0}function h(e,t){e instanceof ye?e.setAttribute("class",t):e.className=t}function b(e){return e.classList||new o(e,ge.attribute("class"),h)}function y(e,t){b(t).add(e)}function T(e,t){b(t).remove(e)}function E(e,t){var n=b(t)
n.add(e),requestAnimationFrame(function(){n.remove(e)})}function w(e){return r(e.children||e.querySelectorAll("*"))}function L(e,t){return t=t||document,r(t.querySelectorAll(e))}function x(e,t){return t.contains?t.contains(e):!!e.parentNode&&(e.parentNode===t||x(e.parentNode,t))}function F(e,t){return t.matches?t.matches(e):t.matchesSelector?t.matchesSelector(e):t.webkitMatchesSelector?t.webkitMatchesSelector(e):t.mozMatchesSelector?t.mozMatchesSelector(e):t.msMatchesSelector?t.msMatchesSelector(e):t.oMatchesSelector?t.oMatchesSelector(e):p(t)===e}function S(e,t){var n=arguments[2]
if(t&&t!==document&&t!==n&&11!==t.nodeType)return t=t.correspondingUseElement||t,F(e,t)?t:S(e,t.parentNode,n)}function M(e){return e.nextElementSibling||void 0}function N(e){return e.previousElementSibling||void 0}function C(e,t){return e.appendChild(t),e}function k(e,t){if(t instanceof be||t instanceof ye)return C(e,t),t
if(t.length){return(t.reduce?t:Be.slice.call(t)).reduce(C,e),t}}function P(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function D(e){e instanceof be||e instanceof ye?q(e):Be.forEach.call(e,q)}function A(e,t){e.parentNode&&e.parentNode.insertBefore(t,e)}function O(e,t){e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)}function B(e,t){return A(e,t),D(e),e}function H(e){return e.split("(")[1].split(")")[0].split(/\s*,\s*/)}function X(t,n){return e.getComputedStyle?e.getComputedStyle(n,null).getPropertyValue(t):0}function I(t){var n=document.body,r=document.documentElement,o=t.getBoundingClientRect(),a=e.pageXOffset||r.scrollLeft||n.scrollLeft,i=r.clientLeft||n.clientLeft||0
return o.left+a-i}function Y(t){var n=document.body,r=document.documentElement,o=t.getBoundingClientRect(),a=e.pageYOffset||r.scrollTop||n.scrollTop,i=r.clientTop||n.clientTop||0
return o.top+a-i}function W(){return{left:0,top:0,width:e.innerWidth,height:e.innerHeight}}function j(t){return t===e?W():t.getClientRects()[0]}function z(e){return e.getBoundingClientRect()}function K(e){var t=j(e)
return[t.left,t.top]}function R(e,t){var n=j(e),r=j(t)
return[r.left-n.left,r.top-n.top]}function $(e,t){var n=we({},Ve,t),r=new Te(e,n)
return t&&(delete t.detail,we(r,t)),r}function U(e){e.preventDefault()}function V(e){return 1===e.which&&!e.ctrlKey&&!e.altKey&&!e.shiftKey}function G(e){return Je[e.keyCode]}function J(e,n,r,o){n=n.split(He)
for(var a,i,c=e[Ge]||(e[Ge]={}),u=t(r,o),d=-1;d++<n.length;)i=n[d],a=c[i]||(c[i]=[]),a.push([r,u]),e.addEventListener(i,u)
return e}function Q(e,t,n){t=t.split(He)
var r,o,a,i=e[Ge]
if(!i)return e
for(var c=-1;c++<t.length;)if(r=t[c],o=i[r])for(a=o.length;a--;)o[a][0]===n&&(e.removeEventListener(r,o[a][1]),o.splice(a,1))
return e}function Z(e,t,n){var r=$(t,n)
e.dispatchEvent(r)}function _(e,t){Q(e.currentTarget,Ie.transitionend,_),t(e.timeStamp)}function ee(e,t,n){if("transitionend"===e){if(!Ie.transition)return void t(performance.now())
e=Ie.transitionend}J(n,e,_,t)}function te(e,t){return function(n){var r=S(e,n.target,n.currentTarget)
r&&(n.delegateTarget=r,t(n,r),n.delegateTarget=void 0)}}function ne(e,t){return e=e.split(He),new Ee(function(n,r){function o(e){a.push(e),n("push")}var a=[]
return e.forEach(function(e){t.addEventListener(e,o)}),{shift:function(){return a.shift()},stop:function n(){e.forEach(function(e){t.removeEventListener(e,o)}),n(a.length)}}})}function re(e){function t(){var t=ge.query("[tabindex], a, input, textarea, button",e)[0]
t&&t.focus()}function n(n){e.contains(n.target)||(t(),n.preventDefault(),n.stopPropagation())}Qe()
var r=document.activeElement||document.body
return document.addEventListener("focus",n,!0),Ae(t),Qe=function(){Qe=Ce,document.removeEventListener("focus",n,!0),Ae(function(){r.focus()})}}function oe(e){if(e.domFragmentFromChildren)return e.domFragmentFromChildren
var t=c("fragment")
return e.domFragmentFromChildren=t,k(t,e.childNodes),t}function ae(e,t){var n=document.createElement(t||"div")
return n.innerHTML=e,oe(n)}function ie(e){return e.content||oe(e)}function ce(e){var t=document.getElementById(e)
if(!t)throw new Error('DOM: element id="'+e+'" is not in the DOM.')
var n=p(t)
return"template"!==n||Ie.template||D(t),"template"===n?ie(t):"script"===n?ae(t.innerHTML,g("data-parent-tag",t)):oe(t)}function ue(t,n){var r,o=Ze[t]
try{r=(new e.DOMParser).parseFromString(n,o)}catch(e){r=void 0}if(!r||r.getElementsByTagName("parsererror").length)throw new Error("dom: Invalid XML: "+n)
return r}function de(){return Ke||(Ke=parseFloat(X("font-size",document.documentElement),10))}function se(e,t){function n(a){var i=(a-r)/(1e3*e)
i<1?(i>0&&t(i),o=requestAnimationFrame(n)):t(1)}var r=performance.now(),o=requestAnimationFrame(n)
return function(){cancelAnimationFrame(o)}}function fe(e,t,n,r,o){return se(e,Pe(t,Se(r[n],o),De(n,r)))}function le(e){return fe(.6,qe(2),"scrollTop",ge.viewport,tt(e))}function me(e){return e.scrollTop/(e.scrollHeight-e.clientHeight)}function ve(e){e=e||document.documentElement
var t=e.scrollLeft,n=e.scrollTop
e.style.overflow="hidden",n&&(e.scrollTop=n),t&&(e.scrollLeft=t)}function pe(e){e=e||document.documentElement
var t=e.scrollLeft,n=e.scrollTop
e.style.overflow="",n&&(e.scrollTop=n),t&&(e.scrollLeft=t)}function ge(e){return L(e,document)}var he=e.Fn,be=e.Node,ye=e.SVGElement,Te=e.CustomEvent,Ee=e.Stream,we=Object.assign,Le=Object.defineProperties,xe=he.cache,Fe=(he.compose,he.curry),Se=he.denormalise,Me=he.deprecate,Ne=he.id,Ce=he.noop,ke=he.overload,Pe=he.pipe,qe=he.pow,De=he.set,Ae=he.requestTick,Oe=he.toType,Be=Array.prototype,He=/\s+/,Xe=/px$/,Ie=Le({},{inputEventsWhileDisabled:{get:xe(function(){var e=document.createElement("input"),t=$("featuretest"),n=!1
return C(document.body,e),e.disabled=!0,e.addEventListener("featuretest",function(e){n=!0}),e.dispatchEvent(t),q(e),n}),enumerable:!0},template:{get:xe(function(){return"content"in document.createElement("template")}),enumerable:!0},textareaPlaceholderSet:{get:xe(function(){var e=document.createElement("textarea")
return e.setAttribute("placeholder","---"),""===e.innerHTML}),enumerable:!0},transition:{get:xe(function(){return Ue("transition")||!1}),enumerable:!0},transitionend:{get:xe(function(){var e={KhtmlTransition:!1,OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},t=Ue("transition")
return t&&e[t]}),enumerable:!0}})
o.prototype={add:function(){for(var e=arguments.length,t=this.get(this.node),n=t?t.trim().split(He):[];e--;)-1===n.indexOf(arguments[e])&&n.push(arguments[e])
this.set(this.node,n.join(" "))},remove:function(){for(var e,t=arguments.length,n=this.get(this.node),r=n?n.trim().split(He):[];t--;)-1!==(e=r.indexOf(arguments[t]))&&r.splice(e,1)
this.set(this.node,r.join(" "))},contains:function(e){var t=this.get(this.node)
return-1!==(t?t.trim().split(He):[]).indexOf(e)}}
var Ye=document.createElement("div"),We={1:"element",3:"text",8:"comment",9:"document",10:"doctype",11:"fragment"},je=["circle","ellipse","g","line","rect","use","path","polygon","polyline","svg"],ze={text:function(e){return document.createTextNode(e||"")},comment:function(e){return document.createComment(e||"")},fragment:function(e){var t=document.createDocumentFragment()
return e&&(Ye.innerHTML=e,k(t,Ye.childNodes),Ye.innerHTML=""),t}}
je.forEach(function(e){ze[e]=function(t){var n=document.createElementNS("http://www.w3.org/2000/svg",e)
return t&&i(n,t),n}})
var Ke,Re=Ie.textareaPlaceholderSet?function(e){return e.cloneNode(!0)}:function(e){var t,n=e.cloneNode(!0),r=ge.query("textarea",e),o=r.length
if(o)for(t=ge.query("textarea",n);o--;)t[o].value=r[o].value
return n},$e={"transform:translateX":function(e){var t=X("transform",e)
if(!t||"none"===t)return 0
var n=H(t)
return parseFloat(n[4])},"transform:translateY":function(e){var t=X("transform",e)
if(!t||"none"===t)return 0
var n=H(t)
return parseFloat(n[5])},"transform:scale":function(e){var t=X("transform",e)
if(!t||"none"===t)return 0
var n=H(t),r=parseFloat(n[0]),o=parseFloat(n[1])
return Math.sqrt(r*r+o*o)},"transform:rotate":function(e){var t=X("transform",e)
if(!t||"none"===t)return 0
var n=H(t),r=parseFloat(n[0]),o=parseFloat(n[1])
return Math.atan2(o,r)}},Ue=function(e){function t(t){if(t in n.style)return t
for(var r,o=t.charAt(0).toUpperCase()+t.slice(1),a=e.length;a--;)if((r=e[a]+o)in n.style)return r
return!1}var n=document.createElement("div"),r={}
return function(e){return r[e]||(r[e]=t(e))}}(["Khtml","O","Moz","Webkit","ms"]),Ve={bubbles:!0},Ge=Symbol("events"),Je={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"pageright",36:"pageleft",37:"left",38:"up",39:"right",40:"down",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",93:"cmd",186:";",187:"=",188:",",189:"-",190:".",191:"/",219:"[",220:"\\",221:"]",222:"'",224:"cmd"},Qe=Ce,Ze={xml:"application/xml",html:"text/html",svg:"image/svg+xml"},_e=function(){var e=document.createElement("pre"),t=document.createTextNode("")
return e.appendChild(t),function(n){return t.textContent=n,e.innerHTML}}(),et=/(\d*\.?\d+)r?em/,tt=ke(Oe,{number:Ne,string:function(e){var t,n
if(t=et.exec(e))return n=parseFloat(t[1]),de()*n
throw new Error("dom: "+e+"' cannot be parsed as rem, em or %.")}}),nt=ke(Oe,{number:function(e){return e/de()}}),rt=new Promise(function(t,n){function r(){document.removeEventListener("DOMContentLoaded",r),e.removeEventListener("load",r),t()}document.addEventListener("DOMContentLoaded",r),e.addEventListener("load",r)})
we(ge,{ready:rt.then.bind(rt),get:function(e){return document.getElementById(e)||void 0},find:he.deprecate(function(e){return document.getElementById(e)||void 0},"dom.find(id) is now dom.get(id)"),query:Fe(L,!0),closest:Fe(S,!0),contains:Fe(x,!0),matches:Fe(F,!0),children:w,next:M,previous:N,assign:Fe(a,!0),create:c,clone:Re,identify:v,append:Fe(k,!0),before:Fe(A,!0),after:Fe(O,!0),replace:Fe(B,!0),empty:P,remove:D,isElementNode:d,isTextNode:s,isCommentNode:f,isFragmentNode:l,isInternalLink:m,type:u,tag:p,attribute:Fe(g,!0),classes:b,addClass:Fe(y,!0),removeClass:Fe(T,!0),flashClass:Fe(E,!0),box:j,bounds:z,rectangle:Me(j,"dom.rectangle(node) now dom.box(node)"),offset:Fe(R,!0),position:K,prefix:Ue,style:Fe(function(e,t){if($e[e])return $e[e](t)
var n=X(e,t)
return"string"==typeof n&&Xe.test(n)?parseFloat(n):n},!0),toPx:tt,toRem:nt,viewportLeft:I,viewportTop:Y,fragmentFromTemplate:ie,fragmentFromChildren:oe,fragmentFromHTML:ae,fragmentFromId:ce,escape:_e,parse:Fe(ue),Event:$,delegate:te,isPrimaryButton:V,preventDefault:U,toKey:G,trapFocus:re,trap:he.deprecate(re,"dom.trap() is now dom.trapFocus()"),events:{on:J,off:Q,trigger:Z},on:he.deprecate(Fe(ne,!0),"dom.on() is now dom.event()"),trigger:Fe(function(e,t){return Z(t,e),t},!0),event:Fe(ne,!0),transition:Fe(se,!0),schedule:Me(se,"dom: .schedule() is now .transition()"),animate:Fe(fe,!0),animateScroll:le,scrollTo:Me(le,"scrollTo(px, node) renamed to animateScroll(px)"),scrollRatio:me,disableScroll:ve,enableScroll:pe,requestEvent:ee,requestFrame:requestAnimationFrame.bind(null),requestFrameN:Fe(Me(function(e,t){!function n(){return requestAnimationFrame(--e?n:t)}()},"requestFrameN() will be removed soon"),!0),features:Ie,safe:Le({left:0},{right:{get:function(){return e.innerWidth},enumerable:!0,configurable:!0},top:{get:function(){return X("padding-top",document.body)},enumerable:!0,configurable:!0},bottom:{get:function(){return e.innerHeight},enumerable:!0,configurable:!0}})}),Le(ge,{root:{value:document.documentElement,enumerable:!0},head:{value:document.head,enumerable:!0},body:{get:function(){return document.body},enumerable:!0},viewport:{get:function(){return document.scrollingElement},enumerable:!0}}),e.dom=ge}(this),function(e){"use strict"
function t(e){return h.query('[href$="#'+e+'"]',h.body).filter(x(y,{a:h.isInternalLink,default:function(){return!0}})).concat(h.query('[data-href="#'+e+'"]',document))}function n(e){var t=k.get(e)
return t||(t={},k.set(e,t)),t}function r(e){var r=n(e),o=e.id
return r.node||(r.node=e),r.buttons||(r.buttons=C.cache&&o&&t(o)),r}function o(e){return C.cache&&e.buttons||e.node.id&&t(e.node.id)}function a(){var e,t=this.data||r(this.target)
t.active||(t.active=!0,this.preventDefault(),p&&console.log("[activate] default | target:",this.target.id,"data:",t),b(t.node).add(F),(e=o(t))&&e.forEach(function(e){h.classes(e).add(S)}))}function i(){var e,t=this.data||r(this.target)
t.active&&(t.active=!1,this.preventDefault(),p&&console.log("[deactivate] default | target:",this.target.id,"data:",t),b(t.node).remove(F),(e=o(t))&&e.forEach(function(e){h.classes(e).remove(S)}))}function c(e){var t=h.create("div",{class:"dialog-layer layer"}),n=h.create("div",{class:"dialog popable"}),r=h.create("button",{class:"close-thumb thumb"})
return h.append(n,e),h.append(t,n),h.append(t,r),h.append(document.body,t),n}function u(e){"mousedown"===e.type&&T(e.currentTarget,"click",function e(t){E(t.currentTarget,"click",e),t.preventDefault()})}function d(e){return!!e.defaultPrevented||(!h.isPrimaryButton(e)||(("keydown"===e.type||"keyup"===e.type)&&13!==e.keyCode||void 0))}function s(e,t){e.preventDefault(),"mousedown"===e.type&&u(e),w(t,"dom-activate",{relatedTarget:e.currentTarget})}function f(e){return(L(e.hash)?e.hash:e.getAttribute("href")).substring(1)}function l(e,t){var n=document.getElementById(t)
if(n){var r=h.classes(n)
r.contains("popable")||r.contains("switchable")||r.contains("toggleable")||r.contains("focusable")||r.contains("removeable")||r.contains("locateable")?s(e,n):h.activateOther&&h.activateOther(n)}}function m(e){if(!d(e)&&(!e.delegateTarget.hostname||h.isInternalLink(e.delegateTarget))){var t=f(e.delegateTarget)
t&&l(e,t)}}function v(e){var t=e.delegateTarget.target
if(!d(e)&&A[t])return A[t](e)}var p=!1,g=e.Fn,h=e.dom,b=h.classes,y=h.tag,T=h.events.on,E=h.events.off,w=h.events.trigger,L=g.isDefined,x=g.overload,F="active",S="on",M=e.location,N=M.hash,C={cache:!0},k=new WeakMap
T(document,"dom-activate",function(e){if(!e.defaultPrevented){var t=r(e.target)
if(t.active)return void e.preventDefault()
e.data=t,e.default=a}}),T(document,"dom-deactivate",function(e){if(!e.defaultPrevented){var t=r(e.target)
if(!t.active)return void e.preventDefault()
e.data=t,e.default=i}})
var P=h.trigger("dom-activate"),q={},D={},A={dialog:function(e){var t,n=e.delegateTarget.getAttribute("data-href")||e.delegateTarget.hash||e.delegateTarget.href,r=n.substring(1),o=q[r]||(q[r]=document.getElementById(r))
e.preventDefault(),o.getAttribute&&"text/html"===o.getAttribute("type")&&(t=h.create("fragment",o.innerHTML)),o.tagName&&"template"===o.tagName.toLowerCase()&&(o.content||h.remove(o),t=h.fragmentFromContent(o))
var a=D[r]||(D[r]=c(t))
w(a,"dom-activate")}}
T(document,"click",h.delegate("[href]",m)),T(document,"click",h.delegate("a[target]",v)),h.ready(function(){if(h("."+F).forEach(P),N&&/^#\S+$/.test(N))try{h(N).forEach(P)}catch(e){}})}(this),function(e){"use strict"
function t(e){var t=e.target.tagName
return t&&!!x[t.toLowerCase()]}function n(e,t){var n,r
if(e.identifiedTouch)return e.identifiedTouch(t)
for(n=-1,r=e.length;++n<r;)if(e[n].identifier===t)return e[n]}function r(e,t){var r=n(e.changedTouches,t.identifier)
if(r&&(r.pageX!==t.pageX||r.pageY!==t.pageY))return r}function o(e){k(e)&&(t(e)||(M(document,F.move,a,[e]),M(document,F.cancel,i,[e])))}function a(e,t){t.push(e),l(e,t,e,c)}function i(e,t){c()}function c(){N(document,F.move,a),N(document,F.cancel,i)}function u(e){if(!x[e.target.tagName.toLowerCase()]){var t=e.changedTouches[0],n={target:t.target,pageX:t.pageX,pageY:t.pageY,identifier:t.identifier,touchmove:function(){d.apply(this,arguments)},touchend:function(){s.apply(this,arguments)}}
M(document,S.move,n.touchmove,[n]),M(document,S.cancel,n.touchend,[n])}}function d(e,t){var n=r(e,t[0])
n&&l(e,t,n,f)}function s(e,t){n(e.changedTouches,t[0].identifier)&&f(t)}function f(e){N(document,S.move,e[0].touchmove),N(document,S.cancel,e[0].touchend)}function l(e,t,n,r){var o=n.pageX-t[0].pageX,a=n.pageY-t[0].pageY
if(!(o*o+a*a<L*L)){var i,c=t[0],u=t[0].target
r(t),C(t[0].target,"dom-touch",{pageX:c.pageX,pageY:c.pageY,detail:function(){return i||(i=y(u,t)),i}})}}function m(e,t){t.touch=e,t.timeStamp=e.timeStamp,t.stream.push(e)}function v(e,t){t.target
p(),t.stream.stop()}function p(){N(document,F.move,m),N(document,F.end,v)}function g(e,t){var n=r(e,t)
n&&(e.preventDefault(),t.touch=n,t.timeStamp=e.timeStamp,t.stream.push(n))}function h(e,t){n(e.changedTouches,t.identifier)&&(b(t),t.stream.stop())}function b(e){N(document,S.move,e.activeTouchmove),N(document,S.end,e.activeTouchend)}function y(e,t){var n=E.from(t).map(function(e){return{x:e.pageX-t[0].pageX,y:e.pageY-t[0].pageY,time:(e.timeStamp-t[0].timeStamp)/1e3}}),r={stream:n,target:e,touch:void 0,identifier:t[0].identifier}
return void 0===r.identifier?(M(e,"click",P),M(document,F.move,m,r),M(document,F.cancel,v,r)):(r.activeTouchmove=function(e,t){g(e,t)},r.activeTouchend=function(e,t){h(e,t)},M(document,S.move,r.activeTouchmove,r),M(document,S.end,r.activeTouchend,r)),n.then(function(){setTimeout(function(){N(e,"click",P)},200)}),n}var T=e.Fn,E=e.Stream,w=e.dom,L=8,x={textarea:!0,input:!0,select:!0,button:!0},F={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},S={move:"touchmove",cancel:"touchend",end:"touchend"},M=(T.requestTick,w.events.on),N=w.events.off,C=w.events.trigger,k=w.isPrimaryButton,P=w.preventDefault
M(document,"mousedown",o),M(document,"touchstart",u)}(this),function(e){"use strict"
function t(e,t){t=t.shift()
var r=n.toPolar([t.x,t.y])
a(e,"dom-swipe",{detail:t,angle:r[1],velocity:r[0]/t.time})}var n=e.Fn,r=e.dom,o=r.events.on,a=r.events.trigger,i=r.closest
o(document,"dom-touch",function(e){if(!e.defaultPrevented){var n=i(".swipeable",e.target)
if(n){var r=e.detail(),o=r.clone().latest()
o.then(function(){t(n,o)})}}})}(this),function(e){function t(e){if(e.default){var t=e.target
r.classes(t).contains(o)&&(requestAnimationFrame(function(){function e(e){t.contains(e.target)||t===e.target||a(t,"dom-deactivate")}function n(r){t===r.target&&(r.defaultPrevented||(document.removeEventListener("click",e),document.removeEventListener("dom-deactivate",n)))}document.addEventListener("click",e),document.addEventListener("dom-deactivate",n)}),e.default())}}function n(e){if(e.default){var t=e.target
r.classes(t).contains(o)&&e.default()}}var r=e.dom,o="popable",a=r.events.trigger
document.addEventListener("dom-activate",t),document.addEventListener("dom-deactivate",n)}(this),function(e){"use strict"
function t(e,t){if(!e.defaultPrevented&&o.isPrimaryButton(e)){e.currentTarget&&(u(t,"dom-deactivate",{relatedTarget:e.target}),e.preventDefault())}}function n(e){if(e.default){var n=e.target
if(o.classes(n).contains(a)){var r=o.identify(n)
o('[href$="#'+r+'"]').forEach(function(n){i(n,"click",t,e.target)}),e.default()}}}function r(e,n,r){if(e.default){var i=e.target
if(o.classes(i).contains(a)){var u=o.identify(e.target)
o('[href$="#'+u+'"]').forEach(function(e){c(e,"click",t)}),e.default()}}}var o=e.dom,a="toggleable",i=o.events.on,c=o.events.off,u=o.events.trigger
i(document,"dom-activate",n),i(document,"dom-deactivate",r)}(this),function(e){"use strict"
function t(e){if(e.default){var t=e.target
if(o.classes(t).contains(a)){var n=o.query(".switchable",t.parentNode),i=n.indexOf(t)
n.splice(i,1)
var u=n.filter(o.matches(".active"))
e.default(),r.from(u).each(c)}}}function n(e){if(e.default){var t=e.target
o.classes(t).contains(a)&&e.default()}}var r=e.Fn,o=e.dom,a="switchable",i=o.events.on,c=o.trigger("dom-deactivate")
i(document,"dom-activate",t),i(document,"dom-deactivate",n)}(this),function(e){"use strict"
function t(e){return Math.atan(e)/Math.PI}function n(e){var t=a(c(e).filter(i.matches(".switchable"))),n=t.offsetLeft+t.clientWidth
return e.parentNode.clientWidth-n}function r(e,t){var n=i.viewportLeft(e),r=i.viewportLeft(t),o=Math.round(n-r-i.style("margin-left",t))
e.style.transform="translate("+o+"px, 0px)"}var o=e.Fn,a=o.last,i=e.dom,c=i.children,u=i.events.on,d=i.events.trigger,s=i.closest,f=2*Math.PI,l=/\s+/
u(document,"dom-touch",function(e){if(!e.defaultPrevented){var r=s(".swipeable",e.target)
if(r){var o=i.classes(r),a=i.style("transform",r)
a=a&&"none"!==a?a:""
var c=i.style("transform:translateX",r),u=!1,d=!1,f=i.attribute("data-slide-min",r),m=i.attribute("data-slide-max",r)
f||m?(u=/elastic/.test(f),d=/elastic/.test(m),f=parseFloat(f)||0,m=parseFloat(m)||0):(u=!0,d=!0,f=n(r),m=0),o.add("notransition")
var v=c
e.detail().map(function(e){v=c+e.x
var n=v>0?d?800*t(v/800)-c:m:v<f?u?800*t((v-f)/800)+f-c:f:e.x
return a+" translate("+n+"px, 0px)"}).each(function(e){r.style.transform=e}).then(function(){o.remove("notransition")
var e=i.attribute("data-slide-snap",r)
if(e){e=e.split(l).map(parseFloat)
var t=e.reduce(function(e,t){return Math.abs(t-v)<Math.abs(e-v)?t:e})
r.style.transform=a+" translate("+t+"px, 0px)"}})}}}),u(document,"dom-swipe",function(e){if(!e.defaultPrevented){var t=s(".swipeable",e.target)
if(t){var n=o.wrap(0,f,e.angle||0),a=n>1*f/8&&n<3*f/8?"previousElementSibling":n>5*f/8&&n<7*f/8&&"nextElementSibling"
if(a){var u=c(t).filter(i.matches(".active")).shift()
u[a]?d(u[a],"dom-activate"):r(t,u)}}}}),u(document,"dom-activate",function(e){if(e.default){var t=e.target,n=t.parentNode
if(i.matches(".swipeable",n)){i.classes(n).remove("notransition"),document.documentElement.clientWidth
var r=i.viewportLeft(t),o=i.viewportLeft(n),a=r-o-i.style("margin-left",t)
n.style.transform="translate("+-a+"px, 0px)",e.preventDefault()}}})}(this),function(e){"use strict"
var t=e.Fn,n=e.dom,r=t.noop,o=(t.requestTick,n.events.on),a=n.events.off,i=n.events.trigger,c=n.disableScroll,u=n.enableScroll,d=n.trapFocus,s=r,f=n.matches(".focusable")
o(document,"dom-activate",function(e){if(!e.defaultPrevented&&f(e.target)){var t=e.target,r=function e(t){clearTimeout(u),a(t.target,"transitionend",e),s=d(t.target)},u=setTimeout(r,600,e)
o(e.target,"transitionend",r),c(n.root),requestAnimationFrame(function(){function e(e){27===e.keyCode&&(i(t,"dom-deactivate"),e.preventDefault())}function n(r){t===r.target&&(r.defaultPrevented||(document.removeEventListener("keydown",e),document.removeEventListener("dom-deactivate",n)))}document.addEventListener("keydown",e),document.addEventListener("dom-deactivate",n)})}}),o(document,"dom-deactivate",function(e){if(!e.defaultPrevented&&f(e.target)){var t=function e(t){clearTimeout(i),a(t.target,"transitionend",e),s(),s=r},i=setTimeout(t,600,e)
o(e.target,"transitionend",t),u(n.root)}})}(this),function(e){"use strict"
function t(e,t,u){function d(){clearTimeout(f),i(s,"transitionend",d),c(s)}if(e.default){var s=e.target
if(n.classes(s).contains(r)){var f=setTimeout(d,1e3*o)
a(s,"transitionend",d),e.default()}}}var n=e.dom,r="removeable",o=1,a=n.events.on,i=n.events.off,c=n.remove
a(document,"dom-deactivate",t)}(this),function(e){function t(e){if(e.default){var t=e.target
if(m(t).contains(h)&&t!==i){if(i){if(t===i)return
w(),u.trigger("dom-deactivate",i)}var n,r,o=e.timeStamp;(E>o||o>E+b)&&(n=p(u.viewport,t),r=u.safe.top,E=o+1e3*y,w=l(y,T,"scrollTop",u.viewport,n[1]-r)),e.default(),i=t}}}function n(e){if(e.default){var t=e.target
m(t).contains(h)&&(e.default(),t===i&&(i=void 0))}}function r(){return{left:0,top:0,right:e.innerWidth,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight}}function o(){for(var e=u(".locateable"),t=e.map(v).sort(d("top")),n=r(),o=-1;t[++o]&&!(t[o].top>n.height/2););if(!(--o<0||o>=t.length)){var a=e[o]
if(i){if(a===i)return
u.trigger("dom-deactivate",i)}u.trigger("dom-activate",a)}}function a(e){E>=e.timeStamp||(E=e.timeStamp,o())}var i,c=e.Fn,u=e.dom,d=c.by,s=c.noop,f=c.exponentialOut,l=u.animate,m=u.classes,v=u.box,p=u.offset,g=u.events.on,h="locateable",b=90,y=.8,T=f(6),E=0,w=s
g(document,"dom-activate",t),g(document,"dom-deactivate",n),g(e,"scroll",a),o()}(this)
