!function(t){t.console&&t.console.log&&console.log("Fn          - https://github.com/stephband/fn")}(this),function(t){"use strict"
function e(t,e,n,r){return r.toString=function(){return/function\s*[\w\d]*\s*\([,\w\d\s]*\)/.exec(n.toString())+" { ["+t+"] }"},Mt&&Object.defineProperty(r,"length",{value:e}),r}function n(t,e){return function(){return console.warn("Fn: deprecated - "+e),t.apply(this,arguments)}}function r(){if(!t.console)return e
var e=arguments[arguments.length-1],n=wt.slice.call(arguments,0,arguments.length-1)
return n.push((e.name||"function")+"("),function(){n.push.apply(n,arguments),n.push(")"),console.group.apply(console,n)
var t=e.apply(this,arguments)
return console.groupEnd(),console.log("â¬…",t),t}}function o(){}function i(t){return t}function u(){return this}function a(t,e){return e(t)}function c(t,e){return function(){e.apply(this,k(arguments,t))}}function s(t,e){return function(n){return t(e(n))}}function f(){var t=arguments
return function(e){return wt.reduce.call(t,a,e)}}function l(t){var e=new Map
return function(n){if(arguments.length>1)throw new Error("Fn: Cached function called with "+arguments.length+" arguments. Accepts exactly 1.")
if(e.has(n))return e.get(n)
var r=t(n)
return e.set(n,r),r}}function d(t,e){return"function"==typeof t?t.apply(null,e):t}function h(t,e,n){n=n||t.length
var r=1===n?e?t:l(t):l(function(r){return h(function(){var e=[r]
return e.push.apply(e,arguments),t.apply(null,e)},e,n-1)})
return function(e){return 1===arguments.length?r(e):arguments.length===n?t.apply(null,arguments):arguments.length>n?d(t.apply(null,wt.splice.call(arguments,0,n)),arguments):d(r(e),wt.slice.call(arguments,1))}}function p(t){return function(){var e=t.apply(this,arguments)
return t=o,e}}function v(t){return function(e,n){return t(n,e)}}function m(t,e){return"function"==typeof e.get?function(){var n=t.apply(null,arguments)
return e.get(n).apply(this,arguments)}:function(){var n=t.apply(null,arguments)
return(e[n]||e.default).apply(this,arguments)}}function g(t){return function(e){var n=t[e]||t.default
return n&&n.apply(this,B(1,arguments))}}function y(t,e){if(t===e)return!0
if("object"!=typeof t||"object"!=typeof e)return!1
var n=Object.keys(t),r=Object.keys(e)
if(n.length!==r.length)return!1
for(var o=n.length;o--;)if(!y(t[n[o]],e[n[o]]))return!1
return!0}function b(t){return!!t||void 0!==t&&null!==t&&!Number.isNaN(t)}function F(t,e){return t!==e}function w(t){return typeof t}function E(t){return xt.toString.apply(t).slice(8,-1)}function x(t){if(t.toArray)return t.toArray()
var e,n=[],r=t.length
if("number"!=typeof t.length)return n
for(n.length=r,e=0;e<r;e++)n[e]=t[e]
return n}function T(t){return parseInt(t,10)}function C(t){return t.toString()}function D(t,e,n){var r=S(t,function(t){return e(n,t)})
t.splice(r,0,n)}function S(t,e){for(var n=t.length,r=n+n%2,o=0;(r=Math.floor(r/2))&&o+r<=n;)e(t[o+r-1])>=0&&(o+=r,r+=r%2)
return o}function M(t,e){return-1===t.indexOf(e)&&t.push(e),t}function L(t,e){return t.push(e),t}function A(t,e){return t===e?0:t>e?1:-1}function k(t,e){return Array.isArray(e)?e.concat(Array.isArray(t)?t:x(t)):e.concat?e.concat(t):x(e).concat(Array.isArray(t)?t:x(t))}function O(t,e){return e.includes?e.includes(t):e.contains?e.contains(t):wt.includes?wt.includes.call(e,t):-1!==wt.indexOf.call(e,t)}function q(t,e){return e.map?e.map(t):wt.map.call(e,t)}function _(t,e){var n,r
if("function"==typeof e.each)e.each(t)
else for(n=e.length,r=-1;++r<n;)t(e[r])
return e}function N(t,e){return e.filter?e.filter(t):wt.filter.call(e,t)}function P(t){if("number"==typeof t.length)return t[t.length-1]}function j(t,e,n){return n.reduce?n.reduce(t,e):wt.reduce.call(n,t,e)}function B(t,e){if(e.slice)return e.slice(t)
if(e.rest)return e.rest(t)
for(var n=[],r=e.length-t;r--;)n[r]=e[r+t]
return n}function I(t,e){if(e.slice)return e.slice(0,t)
if(e.take)return e.take(t)
for(var n=[],r=t;r--;)n[r]=e[r]
return n}function $(t,e){return wt.find.call(e,t)}function z(t,e,n){for(var r=-1,o=e.length,i=t(n);++r<o&&t(e[r])<=i;);e.splice(r,0,n)}function H(t,e){t.remove&&t.remove(e)
var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function W(t,e){if(e.split&&"string"!=typeof e)return e.split(t)
for(var n,r=[],o=-1;void 0!==(n=e[++o]);)t(n)||0===o?r.push([n]):r[r.length].push(n)
return r}function X(t,e){var n=x(t)
return N(function(t){var e=n.indexOf(t)
return-1===e||(n.splice(e,1),!1)},e).concat(n)}function R(t,e){var n=x(t)
return N(function(t){var e=n.indexOf(t)
return-1!==e&&(n.splice(e,1),!0)},e)}function Y(t,e){var n=x(t)
return q(function(t){var e=n.indexOf(t)
return e>-1&&n.splice(e,1),t},e).concat(n)}function K(t){return t.unique?t.unique():j(M,[],t)}function G(t,e){return e.sort?e.sort(t):wt.sort.call(e,t)}function J(t,e){return null===e[t]?void 0:e[t]}function U(t,e,n){return"function"==typeof e.set?e.set(t,n):e[t]=n}function V(t,e,n){for(var r=n.length,o=-1;++o<r;)if(n[o][t]===e)return n[o]}function Q(t,e,n,r){var o=t.exec(e)
if(!o)throw new Error('Fn.getPath(path, object): invalid path "'+e+'"')
var i=o[1]
return r(t,e,o[3]?V(i,o[2]?o[3]:parseFloat(o[3]),n):n[i])}function Z(t,e,n){return t.lastIndex===e.length?n:n&&"object"==typeof n?Q(t,e,n,Z):void 0}function tt(t,e,n,r){var o=t.exec(e)
if(!o)throw new Error('Fn.getPath(path, object): invalid path "'+e+'"')
var i=o[1]
if(t.lastIndex===e.length){if(o[3])throw new Error('Fn.setPath(path, object): invalid path "'+e+'"')
return n[i]=r}var u=o[3]?V(i,o[2]?o[3]:parseFloat(o[3]),n):n[i]
if(!u||"object"!=typeof u){if(u={},o[3]){if(!n.push)throw new Error("Not supported")
u[i]=o[2]?o[3]:parseFloat(o[3]),n.push(u)}U(i,n,u)}return tt(t,e,u,r)}function et(t,e){return qt.lastIndex=0,Z(qt,t,e)}function nt(t,e,n){return qt.lastIndex=0,tt(qt,t,e,n)}function rt(t,e){return t+e}function ot(t,e){return e+t}function it(t,e,n){for(var r=-1,o="";o.length<e-n.length;)o+=t[++r%t.length]
return n=o+n,n.slice(n.length-e)}function ut(t,e,n){for(;n.length<e;)n+=t
return n.slice(0,e)}function at(t,e){return e?at(e,t%e):t}function ct(t,e){return t*e/at(t,e)}function st(t,e,n,r){return((t*r+e)*r+n)*r}function ft(t,e,n,r){return(3*t*r+2*e)*r+n}function lt(t,e,n,r,o){var i,u,a,c=r
for(a=0;a<8;a++){if(i=st(t,e,n,c)-r,Math.abs(i)<o)return c
if(u=ft(t,e,n,c),Math.abs(u)<1e-6)break
c-=i/u}var s=0,f=1
if((c=r)<s)return s
if(c>f)return f
for(;s<f;){if(i=st(t,e,n,c),Math.abs(i-r)<o)return c
r>i?s=c:f=c,c=.5*(f-s)+s}return c}function dt(t){return Pt.then(t),!0}function ht(t,e){function n(){var t=o.length
for(r=void 0,i=e();t--;)o.shift()(i)}if("number"!=typeof t)throw new Error("Timer(duration) requires a duration in seconds ("+t+")")
e=e||_t
var r,o=[],i=-1/0
return{now:e,request:function(u){if("function"!=typeof u)throw new Error("fn is not a function.")
if(o.push(u),!r){var a=e()
return i+t>a?r=setTimeout(n,1e3*(i+t-a)):dt(n),u}},cancel:function(t){var e=o.indexOf(t);-1!==e&&(o.splice(e,1),o.length||(clearTimeout(r),r=void 0))}}}function pt(e,n,r){function i(){d=o,l=n(u)}function u(){d=i,e.apply(s,f)}function a(t){d===o&&void 0!==l&&r(l),d=o}function c(){s=this,f=arguments,d()}n=n||t.requestAnimationFrame,r=r||t.cancelAnimationFrame
var s,f,l,d=i
return c.cancel=a,c}function vt(t,e){function n(){u=!1,t.apply(a,c)}function r(){s=o,u&&clearTimeout(u)}function i(){a=this,c=arguments,s()}var u,a,c,s=function(){u&&clearTimeout(u),u=setTimeout(n,1e3*(e||0))}
return i.cancel=r,i}function mt(t){return 0===t.length||"done"===t.status}function gt(t){var e=t.shift()
return void 0===e?arguments[1]:gt(t,e)}function yt(t,e){var n=Object.create(t)
return n.shift=e,n}function bt(t){if(!this||!bt.prototype.isPrototypeOf(this))return new bt(t)
var e=this
if(!t)return void(e.status="done")
var n=t()
if(void 0===n)return void(e.status="done")
this.shift=function(){if("done"!==e.status){var r=n
return n=t(),void 0===n&&(e.status="done"),r}}}var Ft=!0===t.DEBUG,wt=Array.prototype,Et=Number.prototype,xt=Object.prototype,Tt=String.prototype,Ct=Object.assign,Dt=Object.freeze(Object.defineProperties([],{shift:{value:o}})),St=180/Math.PI,Mt=function(){var t=function(){}
try{Object.defineProperty(t,"length",{value:2})}catch(t){return!1}return 2===t.length}()
if(Ft){var Lt=h
h=function(t,n){var r=arguments[2]||t.length
return e("curried",r,t,Lt(t,n,r))}}var At={url:/^(?:(?:(?:(?:[fht]{1,2}tps?:)?\/\/)?[-\w]+\.[-\w]+|\/[-\w.]+)(?:\/?[-\w.]+)*\/?|(?:[-\w.]+\/)+[-\w.]*)(?:[#?][#?!\[\]$\,;&=-\w.]*)?$/,email:/^((([a-z]|\d|[!#$%&'*+\-\/=?^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#$%&'*+\-\/=?^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,date:/^\d{4}-(?:0[1-9]|1[012])-(?:0[1-9]|[12][0-9]|3[01])$/,hexColor:/^(#)?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,hslColor:/^(?:(hsl)(\())?\s?(\d{1,3}(?:\.\d+)?)\s?,\s?(\d{1,3}(?:\.\d+)?)%\s?,\s?(\d{1,3}(?:\.\d+)?)%\s?(\))?$/,rgbColor:/^(?:(rgb)(\())?\s?(\d{1,3})\s?,\s?(\d{1,3})\s?,\s?(\d{1,3})\s?(\))?$/,hslaColor:/^(?:(hsla)(\())?\s?(\d{1,3}(?:\.\d+)?)\s?,\s?(\d{1,3}(?:\.\d+)?)%\s?,\s?(\d{1,3}(?:\.\d+)?)%\s?,\s?([01](?:\.\d+)?)\s?(\))?$/,rgbaColor:/^(?:(rgba)(\())?\s?(\d{1,3})\s?,\s?(\d{1,3})\s?,\s?(\d{1,3})\s?,\s?([01](?:\.\d+)?)\s?(\))?$/,cssValue:/^(-?\d+(?:\.\d+)?)(px|%|em|ex|pt|in|cm|mm|pt|pc)?$/,cssAngle:/^(-?\d+(?:\.\d+)?)(deg)?$/,image:/(?:\.png|\.gif|\.jpeg|\.jpg)$/,float:/^[+-]?(?:\d*\.)?\d+$/,int:/^(-?\d+)$/},kt=Object.is||function(t,e){return t===e},Ot=v(O),qt=/\[?([-\w]+)(?:=(['"])?([-\w]+)\2)?\]?\.?/g,_t=t.performance&&t.performance.now?function(){return t.performance.now()/1e3}:function(){return+new Date/1e3},Nt=t.requestAnimationFrame,Pt=Promise.resolve()
Ct(bt.prototype,{shift:o,of:function(){return this.constructor.of.apply(this.constructor,arguments)},ap:function(t){var e=this.shift
return yt(this,function(){var n=e()
return void 0===n?void 0:t.map(n)})},unshift:function(){var t=this,e=x(arguments)
return yt(this,function(){return(e.length?e:t).shift()})},catch:function(t){var e=this
return yt(this,function(){try{return e.shift()}catch(e){return t(e)}})},chain:function(t){return this.map(t).join()},clone:function(){var t=this,e=this.shift,n=[],r=[],o=!1
return this.shift=function(){var i
return n.length?(i=n.shift(),!n.length&&o&&(t.status="done"),i):o?void 0:(i=e(),"done"===t.status&&(o=!0),void 0!==i&&r.push(i),i)},new bt(function(){var i
return r.length?r.shift():o?void 0:(i=e(),"done"===t.status&&(o=!0,t.status=void 0),void 0!==i&&n.push(i),i)})},concat:function(){var t=x(arguments),e=this,n=yt(this,function r(){if(void 0===e)return void(n.status="done")
if(mt(e))return e=t.shift(),r()
var o=e.shift()
return n.status=0===t.length&&mt(e)?"done":void 0,o})
return n},dedup:function(){var t
return this.filter(function(e){var n=t
return t=e,n!==e})},filter:function(t){var e=this
return yt(this,function(){for(var n;void 0!==(n=e.shift())&&!t(n););return n})},first:function(){var t=this
return yt(this,p(function(){return t.status="done",t.shift()}))},join:function(){var t=this,e=Dt
return yt(this,function n(){var r=e.shift()
return void 0!==r?r:void 0!==(e=t.shift())?n():void(e=Dt)})},latest:function(){var t=this
return yt(this,function(){return gt(t)})},map:function(t){return yt(this,s(function(e){return void 0===e?void 0:t(e)},this.shift))},chunk:function(t){var e=this,n=[]
return yt(this,t?function(){for(var r,o;n.length<t;){if(void 0===(r=e.shift()))return
n.push(r)}if(n.length>=t)return o=n,n=[],bt.of.apply(bt,o)}:function(){return n=e.toArray(),n.length?n:void 0})},fold:function(t,e){var n=0
return this.map(function(r){return e=t(e,r,n++)}).unshift(e)},partition:function(t){function e(t,e){var r=Stream.of().on("pull",n)
return r.key=t,i.set(t,r),r}function n(u,a){var c=r.shift()
if(void 0!==c){var s=t(c),f=i.get(s)
return f===a?c:(void 0===f&&(f=e(s,c),o.push(f)),f.push(c),n(u,a))}}var r=this,o=[],i=new Map
return t=t||bt.id,yt(this,function n(){if(o.length)return o.shift()
var u=r.shift()
if(void 0!==u){var a=t(u),c=i.get(a)
return void 0===c?(c=e(a,u),c.push(u),c):(c.push(u),n())}})},reduce:function(t,e){return this.fold(t,e).latest().shift()},take:function(t){var e=this,n=0
return yt(this,function(){var r
if(n<t){if(void 0===(r=e.shift()))return
return++n===t&&(e.status="done"),r}})},sort:function(t){t=t||bt.byGreater
var e=this,n=[]
return yt(this,function(){for(var r;void 0!==(r=e.shift());)D(n,t,r)
return n.shift()})},split:function(t){var e=this,n=[]
return yt(this,function r(){var o,i=e.shift()
return void 0!==i?t(i)?(o=n,n=[i],o.length?o:r()):(n.push(i),r()):n.length?(o=n,n=[],o):void 0})},syphon:function(t){var e=this.shift,n=[],r=[]
return this.shift=function(){if(n.length)return n.shift()
for(var o;void 0!==(o=e())&&t(o);)r.push(o)
return o},yt(this,function(){if(r.length)return r.shift()
for(var o;void 0!==(o=e())&&!t(o);)n.push(o)
return o})},rest:function(t){var e=this
return yt(this,function(){for(;t-- >0;)e.shift()
return e.shift()})},unique:function(){var t=this,e=[]
return yt(this,function n(){var r=t.shift()
return void 0===r?void 0:-1===e.indexOf(r)?(e.push(r),r):n()})},each:function(t){for(var e;void 0!==(e=this.shift());)t.call(this,e)
return this},find:function(t){return this.filter(t).first().shift()},next:function(){return{value:this.shift(),done:this.status}},pipe:function(t){if(!t||!t.on)throw new Error("Fn: Fn.pipe(object) object must be a stream. ("+t+")")
return t.on("pull",this.shift)},tap:function(t){return this.shift=bt.compose(function(e){return void 0!==e&&t(e),e},this.shift),this},toJSON:function(){return this.reduce(L,[])},toString:function(){return this.reduce(rt,"")},process:n(function(t){return t(this)},".process() is deprecated"),last:n(function(){var t=this
return yt(this,function(){return gt(t)})},".last() is now .latest()")}),bt.prototype.toArray=bt.prototype.toJSON,t.Symbol&&(bt.prototype[Symbol.iterator]=function(){return this}),t.Fn=Ct(bt,{of:function(){return bt.from(arguments)},from:function(t){if("function"==typeof t.shift&&void 0===t.length)return new bt(function(){return t.shift()})
if("function"==typeof t.next)return new bt(function e(){var n=t.next()
return n.done?n.value:void 0===n.value?e():n.value})
var e=-1
return new bt(function n(){return++e>=t.length?void 0:void 0===t[e]?n():t[e]})},Timer:ht,nothing:Dt,id:i,noop:o,self:u,cache:l,compose:s,curry:h,choose:g,flip:v,once:p,overload:h(m),pipe:f,throttle:pt,wait:vt,equals:h(y),is:h(kt),isDefined:b,isIn:h(Ot,!0),isNot:h(F),and:h(function(t,e){return!(!t||!e)}),not:function(t){return!t},or:h(function(t,e){return t||e}),xor:h(function(t,e){return(t||e)&&!!t!=!!e}),isGreater:h(function(t,e){return e>t}),by:h(function(t,e,n){return A(e[t],n[t])},!0),byGreater:h(A),byAlphabet:h(function(t,e){return Tt.localeCompare.call(t,e)}),toType:w,toClass:E,toArray:x,toString:C,toInt:T,toFloat:parseFloat,toPlainText:function(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},toStringType:function(t,e){return function(n){for(var r=e.length;r--;)if(t[e[r]].test(n))return e[r]
try{return JSON.parse(n),"json"}catch(t){}return"string"}}(At,["url","date","email","float","int"]),concat:h(k,!0),contains:h(O,!0),diff:h(X,!0),each:h(_,!0),filter:h(N,!0),find:h($,!0),insert:h(z,!0),intersect:h(R,!0),last:P,latest:gt,map:h(q,!0),reduce:h(j,!0),remove:h(H,!0),rest:h(B,!0),sort:h(G,!0),split:h(W,!0),take:h(I,!0),unite:h(Y,!0),unique:K,assign:h(Ct,!0,2),get:h(J,!0),set:h(U,!0),getPath:h(et,!0),setPath:h(nt,!0),invoke:h(function(t,e,n){return n[t].apply(n,e)},!0),add:h(function(t,e){return e+t}),multiply:h(function(t,e){return e*t}),mod:h(function(t,e){return e%t}),min:h(function(t,e){return t>e?e:t}),max:h(function(t,e){return t<e?e:t}),pow:h(function(t,e){return Math.pow(e,t)}),exp:h(function(t,e){return Math.pow(t,e)}),log:h(function(t,e){return Math.log(e)/Math.log(t)}),root:h(function(t,e){return Math.pow(e,1/t)}),gcd:h(at),lcm:h(ct),todB:function(t){return 20*Math.log10(t)},toLevel:function(t){return Math.pow(2,t/6)},toRad:function(t){return t/St},toDeg:function(t){return t*St},factorise:function(t,e){var n=at(t,e)
return[t/n,e/n]},gaussian:function(){return Math.random()+Math.random()-1},toPolar:function(t){var e=t[0],n=t[1]
return[0===e?Math.abs(n):0===n?Math.abs(e):Math.sqrt(e*e+n*n),Math.atan2(e,n)]},toCartesian:function(t){var e=t[0],n=t[1]
return[Math.sin(n)*e,Math.cos(n)*e]},toFixed:h(function(t,e){return Et.toFixed.call(e,t)}),limit:h(function(t,e,n){return n>e?e:n<t?t:n}),wrap:h(function(t,e,n){return(n<t?e:t)+(n-t)%(e-t)}),normalise:h(function(t,e,n){return(n-t)/(e-t)}),denormalise:h(function(t,e,n){return n*(e-t)+t}),rangeLog:h(function(t,e,n){return bt.denormalise(t,e,Math.log(n/t)/Math.log(e/t))}),rangeLogInv:h(function(t,e,n){return t*Math.pow(e/t,bt.normalise(t,e,n))}),cubicBezier:h(function(t,e,n,r){var o=1/(200*n),i=3*t[0],u=3*(e[0]-t[0])-i,a=1-i-u,c=3*t[1],s=3*(e[1]-t[1])-c
return st(1-c-s,s,c,lt(a,u,i,r,o))}),exponentialOut:h(function(t,e){return 1-Math.pow(1-e,t)}),append:h(ot),prepend:h(rt),postpad:h(ut),prepad:h(it),match:h(function(t,e){return t.test(e)}),exec:h(function(t,e){return t.exec(e)||void 0}),replace:h(function(t,e,n){return n.replace(t,e)}),slugify:function(t){if("string"==typeof t)return t.trim().toLowerCase().replace(/[\W_]/g,"-")},rspaces:/\s+/,now:_t,requestTick:dt,requestFrame:Nt,debug:r,deprecate:n,bind:n(c,"Review bind: it doesnt do what you think"),dB:n(o,"dB() is now todB()"),degToRad:n(o,"degToRad() is now toRad()"),radToDeg:n(o,"radToDeg() is now toDeg()"),nthRoot:h(n(function(t,e){return Math.pow(e,1/t)},"nthRoot(n, x) is now simply root(n, x)"),!1,2),Throttle:n(pt,"Throttle(fn, time) removed, is now throttle(fn, time)"),Wait:n(vt,"Wait(fn, time) removed, is now wait(fn, time)"),slice:h(n(function(t,e,n){return n.slice?n.slice(t,e):wt.slice.call(n,t,e)},"slice(n, m, object) is removed in favour of take(n) or rest(n)"),!0,3),returnThis:n(u,"returnThis() is now self()"),run:h(n(function(t,e){return e.apply(null,t)},"run() is now apply()"),!0,2),overloadLength:h(n(m,"overloadLength(map) is now overload(fn, map)"),!0,2)(function(){return arguments.length}),overloadTypes:h(n(m,"overloadTypes(map) is now overload(fn, map)"),!0,2)(function(){return wt.map.call(arguments,w).join(" ")})}),Object.defineProperties(bt,{empty:{get:n(function(){return Dt},"Fn.empty is now Fn.nothing")}})}(this),function(t){"use strict"
function e(t,e){return e(t)}function n(t){return void 0!==t}function r(t){return"done"===t.status}function o(t){if(!t.shift)throw new Error("Stream: Source must create an object with .shift() "+Source)}function i(t,e){var n=e[S]
if(n&&n[t])for(var r,o=-1,i=n[t].length;++o<i;)if(void 0!==(r=n[t][o](t,e)))return r}function u(t){var e=i
return function(n){var r=e
e=x
var o=r(n,t)
return e=r,o}}function a(t,e,n){this.source=t,this.n=e,this.done=n}function c(t,e){if(!c.prototype.isPrototypeOf(this))return new c(t,e)
var n,r=this,i=new Promise(function(i,c){function s(){r.status="done",l=M}function f(t,e){delete r[S],t?l=new a(l,t,s):s(),i(e)}var l
n=function(){var i=u(r)
return l=new t(i,f,e),g&&o(l),l.stop||(l.stop=x),n=function(){return l},l}})
this[S]={},this.push=function(){var t=n()
return t.push.apply(t,arguments),r},this.shift=function(){return n().shift()},this.start=function(){var t=n()
return t.start.apply(t,arguments),r},this.stop=function(){var t=n()
return t.stop.apply(t,arguments),r},this.then=i.then.bind(i)}function s(t,e,n){this._buffer=n,this._notify=t,this._stop=e}function f(t){var e=t.source,n=t.value
return t.value=void 0===n?E(e):n}function l(t,e,n,r){var o=this
this._notify=t,this._stop=e,this._fn=n,this._sources=r,this._hot=!0,this._store=r.map(function(e){function n(){r.value=void 0,o._hot=!0}var r={source:e,listen:n}
return e.on("push",n),e.on("push",t),r})}function d(t,e,n){function r(t,e){i.push(e)}var o=[],i=[]
this._notify=t,this._stop=e,this._sources=n,this._values=o,this._buffer=i,this._i=0,this._update=r,w(function(e){o.push.apply(o,D(e)),e.on("push",r),e.on("push",t)},n)}function h(t){var n=this,r=[],o=[]
this.fns=r,t.each(function(){n.fns=o,r.reduce(e,void 0),r.length=0,o=r,r=n.fns})}function p(){var t=this.timer
this.queue=x,this.ref=t.request(this.update)}function v(t,e,n){var r=this
this._stop=e,this.timer=n,this.queue=p,this.update=function(){r.queue=p,t("push")}}function m(t,e,n){function r(e){o.value=e,t("push"),o.value=void 0,o.id=i(r)}var o=this,i=n.request
this.cancel=n.cancel||x,this.end=e,this.id=i(r)}var g=!1,y=t.Fn,b=Array.prototype,F=Object.assign,w=(y.curry,y.each),E=y.latest,x=y.noop,T=y.now,C=(y.nothing,y.rest,y.throttle,y.Timer),D=y.toArray,S=Symbol("events"),M={shift:x,push:x,start:x,stop:x}
F(a.prototype,M,{shift:function(){return--this.n<1&&this.done(),this.source.shift()}}),F(s.prototype,{shift:function(){var t=this._buffer,e=this._notify
return t.length?t.shift():e("pull")},push:function(){var t=this._buffer,e=this._notify
t.push.apply(t,arguments),e("push")},stop:function(){var t=this._buffer
this._stop(t.length)}}),c.from=function(t){return new c(function(e,r){return new s(e,r,void 0===t?[]:y.prototype.isPrototypeOf(t)?t:Array.from(t).filter(n))})},c.of=function(){return c.from(arguments)},F(l.prototype,{shift:function(){if(this._hot){this._hot=!1
var t=this._sources,e=this._store.map(f)
return t.every(r)&&this._stop(0),e.every(n)&&this._fn.apply(null,e)}},stop:function(){var t=this._notify
w(function(e){var n=e.source,r=e.listen
n.off("push",r),n.off("push",t)},this._store),this._stop(this._hot?1:0)}}),c.Combine=function(t){var e=b.slice.call(arguments,1)
if(e.length<2)throw new Error("Stream: Combine requires more than "+e.length+" source streams")
return new c(function(n,r){return new l(n,r,t,e)})},F(d.prototype,{shift:function(){var t=this._sources,e=this._values,n=this._buffer,r=this._stop
if(e.length)return e.shift()
var o=n.shift()
if(o){var i=o.shift()
return"done"===o.status&&++this._i>=t.length&&r(0),i}},stop:function(){var t=this._notify,e=this._sources,n=this._stop,r=this._update
w(function(e){e.off("push",r),e.off("push",t)},e),n(values.length+buffer.length)}}),c.Merge=function(t,e){var n=arguments
return new c(function(t,e){return new d(t,e,Array.from(n))})},c.Events=function(t,e){return new c(function(n,r){function o(t){i.push(t),n("push")}var i=[]
return e.addEventListener(t,o),{shift:function(){return i.shift()},stop:function n(){e.removeEventListener(t,o),n(i.length)}}})},c.Choke=function(t){return new c(function(e,n){var r=[],o=Wait(function(){r[0]=arguments[arguments.length-1],e("push")},t)
return{shift:function(){return r.shift()},push:o,stop:function(){o.cancel(!1),n()}}})}
var L={now:T,request:requestAnimationFrame.bind(t),cancel:cancelAnimationFrame.bind(t)}
F(h.prototype,{request:function(t){return this.fns.push(t),t},cancel:function(t){remove(this.fns,t)}}),F(v.prototype,{shift:function(){var t=this.value
return this.value=void 0,t},stop:function(t){var e=this.timer
this.queue===x&&(e.cancel&&e.cancel(this.ref),this.ref=void 0),this.queue=x,this._stop(void 0!==this.value&&t?1:0)},push:function(){this.value=arguments[arguments.length-1],this.queue()}}),c.throttle=function(t){if("function"==typeof t)throw new Error("Dont accept request and cancel functions anymore")
return t="number"==typeof t?new C(t):t instanceof c?new h(t):t||L,new c(function(e,n){return new v(e,n,t)})},F(m.prototype,{shift:function(){var t=this.value
return this.value=void 0,t},stop:function(){(0,this.cancel)(this.id),this.end()}}),c.clock=function(t){return new c(m,"number"==typeof t?new C(t):t||L)},c.prototype=F(Object.create(y.prototype),{clone:function(){var t=this,e=this.shift,n=[],r=[],o=new c(function(o,i){var u=r
return t.on("push",o),{shift:function(){if(u.length)return u.shift()
var r=e()
return void 0!==r?n.push(r):"done"===t.status&&(i(0),t.off("push",o)),r},stop:function(){for(var r;void 0!==(r=e());)u.push(r),n.push(r)
i(u.length),t.off("push",o)}}})
return this.then(o.stop),this.shift=function(){if(n.length)return n.shift()
var t=e()
return void 0!==t&&"done"!==o.status&&r.push(t),t},o},combine:function(t,e){return c.Combine(t,this,e)},merge:function(){var t=D(arguments)
return t.unshift(this),c.Merge.apply(null,t)},choke:function(t){return this.pipe(c.Choke(t))},throttle:function(t){return this.pipe(c.throttle(t))},clock:function(t){return this.pipe(c.clock(t))},each:function(t){var e=arguments,n=this
return y.prototype.each.apply(n,e),this.on("push",function(){y.prototype.each.apply(n,e)})},pipe:function(t){return this.each(t.push),y.prototype.pipe.apply(this,arguments)},on:function(t,e){var n=this[S]
return n?((n[t]||(n[t]=[])).push(e),this):this},off:function(t,e){var n=this[S]
if(!n)return this
if(0===arguments.length)return Object.keys(n).forEach(off,this),this
var r=n[t]
if(r){if(!e)return delete n[t],this
for(var o=r.length;o--;)r[o]===e&&r.splice(o,1)
return this}}}),t.Stream=c}(this),function(t){function e(t,e){e=e||r
var n=document.createEvent("CustomEvent")
return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if(!t.CustomEvent||"function"!=typeof t.CustomEvent){t.console&&console.log("Polyfill: CustomEvent")
var n=t.Event,r={bubbles:!1,cancelable:!1,detail:void 0}
e.prototype=n.prototype,t.CustomEvent=e}}(window),"scrollingElement"in document||function(){function t(){if(!/^CSS1/.test(document.compatMode))return!1
if(void 0===n){var t=document.createElement("iframe")
t.style.height="1px",(document.body||document.documentElement||document).appendChild(t)
var e=t.contentWindow.document
e.write('<!DOCTYPE html><div style="height:9999em">x</div>'),e.close(),n=e.documentElement.scrollHeight>e.body.scrollHeight,t.parentNode.removeChild(t)}return n}function e(){return t()?document.documentElement:document.body}var n
Object.defineProperty?Object.defineProperty(document,"scrollingElement",{get:e}):document.scrollingElement=e()}(),function(t){t.console&&t.console.log&&console.log("dom         â€“ https://github.com/stephband/dom")}(this),function(t){"use strict"
function e(t){var e=Pt.slice.call(arguments,1)
return function(){Pt.push.apply(arguments,e),t.apply(null,arguments)}}function n(t){return(/^\//.test(t)?"":"/")+t}function r(t){var e,n=[],r=n.length=t.length
for(e=0;e<r;e++)n[e]=t[e]
return n}function o(t,e,n){this.node=t,this.get=e,this.set=n}function i(t,e){for(var n=Object.keys(e),r=n.length;r--;)t.setAttribute(n[r],e[n[r]])}function u(t,e){for(var n=Object.keys(e),r=n.length;r--;)t.setAttributeNS(null,n[r],e[n[r]])}function a(t){if(Wt[t])return Wt[t](arguments[1])
var e,n=document.createElement(t)
return"string"==typeof arguments[1]?(n.innerHTML=arguments[1],e=arguments[2]):e=arguments[1],e&&i(n,e),n}function c(t){return zt[t.nodeType]}function s(t){return 1===t.nodeType}function f(t){return 3===t.nodeType}function l(t){return 8===t.nodeType}function d(t){return 11===t.nodeType}function h(e){var r=t.location
return e.hostname&&r.hostname===e.hostname&&r.pathname===n(e.pathname)}function p(t){var e=t.id
if(!e){do{e=Math.ceil(1e5*Math.random())}while(document.getElementById(e))
t.id=e}return e}function v(t){return t.tagName&&t.tagName.toLowerCase()}function m(t,e){return e.getAttribute&&e.getAttribute(t)||void 0}function g(t,e){t instanceof bt?t.setAttribute("class",e):t.className=e}function y(t){return t.classList||new o(t,mt.attribute("class"),g)}function b(t,e){y(e).add(t)}function F(t,e){y(e).remove(t)}function w(t,e){var n=y(e)
n.add(t),requestAnimationFrame(function(){n.remove(t)})}function E(t){return r(t.children||t.querySelectorAll("*"))}function x(t,e){return e=e||document,r(e.querySelectorAll(t))}function T(t,e){return e.contains?e.contains(t):!!t.parentNode&&(t.parentNode===e||T(t.parentNode,e))}function C(t,e){return e.matches?e.matches(t):e.matchesSelector?e.matchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.mozMatchesSelector?e.mozMatchesSelector(t):e.msMatchesSelector?e.msMatchesSelector(t):e.oMatchesSelector?e.oMatchesSelector(t):v(e)===t}function D(t,e){var n=arguments[2]
if(e&&e!==document&&e!==n&&11!==e.nodeType)return e=e.correspondingUseElement||e,C(t,e)?e:D(t,e.parentNode,n)}function S(t){return t.nextElementSibling||void 0}function M(t){return t.previousElementSibling||void 0}function L(t,e){return t.appendChild(e),t}function A(t,e){if(e instanceof yt||e instanceof bt)return L(t,e),e
if(e.length){return(e.reduce?e:Pt.slice.call(e)).reduce(L,t),e}}function k(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function q(t){t instanceof yt||t instanceof bt?O(t):Pt.forEach.call(t,O)}function _(t,e){t.parentNode&&t.parentNode.insertBefore(e,t)}function N(t,e){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}function P(t,e){return _(t,e),q(t),t}function j(t){return t.split("(")[1].split(")")[0].split(/\s*,\s*/)}function B(e,n){return t.getComputedStyle?t.getComputedStyle(n,null).getPropertyValue(e):0}function I(e){var n=document.body,r=document.documentElement,o=e.getBoundingClientRect(),i=t.pageXOffset||r.scrollLeft||n.scrollLeft,u=r.clientLeft||n.clientLeft||0
return o.left+i-u}function $(e){var n=document.body,r=document.documentElement,o=e.getBoundingClientRect(),i=t.pageYOffset||r.scrollTop||n.scrollTop,u=r.clientTop||n.clientTop||0
return o.top+i-u}function z(){return{left:0,top:0,width:t.innerWidth,height:t.innerHeight}}function H(e){return e===t?z():e.getClientRects()[0]}function W(t){return t.getBoundingClientRect()}function X(t){var e=H(t)
return[e.left,e.top]}function R(t,e){var n=H(t),r=H(e)
return[r.left-n.left,r.top-n.top]}function Y(t,e){var n=Et({},Gt,e),r=new Ft(t,n)
return e&&(delete e.detail,Et(r,e)),r}function K(t){t.preventDefault()}function G(t){return 1===t.which&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function J(t){return Ut[t.keyCode]}function U(t,n,r,o){n=n.split(jt)
for(var i,u,a=t[Jt]||(t[Jt]={}),c=e(r,o),s=-1;s++<n.length;)u=n[s],i=a[u]||(a[u]=[]),i.push([r,c]),t.addEventListener(u,c)
return t}function V(t,e,n){e=e.split(jt)
var r,o,i,u=t[Jt]
if(!u)return t
for(var a=-1;a++<e.length;)if(r=e[a],o=u[r])for(i=o.length;i--;)o[i][0]===n&&(t.removeEventListener(r,o[i][1]),o.splice(i,1))
return t}function Q(t,e,n){var r=Y(e,n)
t.dispatchEvent(r)}function Z(t,e){V(t.currentTarget,It.transitionend,Z),e(t.timeStamp)}function tt(t,e,n){if("transitionend"===t){if(!It.transition)return void e(performance.now())
t=It.transitionend}U(n,t,Z,e)}function et(t,e){return function(n){var r=D(t,n.target,n.currentTarget)
r&&(n.delegateTarget=r,e(n,r),n.delegateTarget=void 0)}}function nt(t,e){return t=t.split(jt),new wt(function(n,r){function o(t){i.push(t),n("push")}var i=[]
return t.forEach(function(t){e.addEventListener(t,o)}),{shift:function(){return i.shift()},stop:function n(){t.forEach(function(t){e.removeEventListener(t,o)}),n(i.length)}}})}function rt(t){function e(){var e=mt.query("[tabindex], a, input, textarea, button",t)[0]
e&&e.focus()}function n(n){t.contains(n.target)||(e(),n.preventDefault(),n.stopPropagation())}Vt()
var r=document.activeElement||document.body
return document.addEventListener("focus",n,!0),_t(e),Vt=function(){Vt=Lt,document.removeEventListener("focus",n,!0),_t(function(){r.focus()})}}function ot(t){if(t.domFragmentFromChildren)return t.domFragmentFromChildren
var e=a("fragment")
return t.domFragmentFromChildren=e,A(e,t.childNodes),e}function it(t,e){var n=document.createElement(e||"div")
return n.innerHTML=t,ot(n)}function ut(t){return t.content||ot(t)}function at(t){var e=document.getElementById(t)
if(!e)throw new Error('DOM: element id="'+t+'" is not in the DOM.')
var n=v(e)
return"template"!==n||It.template||q(e),"template"===n?ut(e):"script"===n?it(e.innerHTML,m("data-parent-tag",e)):ot(e)}function ct(e,n){var r,o=Qt[e]
try{r=(new t.DOMParser).parseFromString(n,o)}catch(t){r=void 0}if(!r||r.getElementsByTagName("parsererror").length)throw new Error("dom: Invalid XML: "+n)
return r}function st(){return Xt||(Xt=parseFloat(B("font-size",document.documentElement),10))}function ft(t,e){function n(i){var u=(i-r)/(1e3*t)
u<1?(u>0&&e(u),o=requestAnimationFrame(n)):e(1)}var r=performance.now(),o=requestAnimationFrame(n)
return function(){cancelAnimationFrame(o)}}function lt(t,e,n,r,o){return ft(t,kt(e,Dt(r[n],o),qt(n,r)))}function dt(t){return lt(.6,Ot(2),"scrollTop",mt.viewport,ee(t))}function ht(t){return t.scrollTop/(t.scrollHeight-t.clientHeight)}function pt(t){t=t||document.documentElement
var e=t.scrollLeft,n=t.scrollTop
t.style.overflow="hidden",n&&(t.scrollTop=n),e&&(t.scrollLeft=e)}function vt(t){t=t||document.documentElement
var e=t.scrollLeft,n=t.scrollTop
t.style.overflow="",n&&(t.scrollTop=n),e&&(t.scrollLeft=e)}function mt(t){return x(t,document)}var gt=t.Fn,yt=t.Node,bt=t.SVGElement,Ft=t.CustomEvent,wt=t.Stream,Et=Object.assign,xt=Object.defineProperties,Tt=gt.cache,Ct=(gt.compose,gt.curry),Dt=gt.denormalise,St=gt.deprecate,Mt=gt.id,Lt=gt.noop,At=gt.overload,kt=gt.pipe,Ot=gt.pow,qt=gt.set,_t=gt.requestTick,Nt=gt.toType,Pt=Array.prototype,jt=/\s+/,Bt=/px$/,It=xt({},{inputEventsWhileDisabled:{get:Tt(function(){var t=document.createElement("input"),e=Y("featuretest"),n=!1
return L(document.body,t),t.disabled=!0,t.addEventListener("featuretest",function(t){n=!0}),t.dispatchEvent(e),O(t),n}),enumerable:!0},template:{get:Tt(function(){return"content"in document.createElement("template")}),enumerable:!0},textareaPlaceholderSet:{get:Tt(function(){var t=document.createElement("textarea")
return t.setAttribute("placeholder","---"),""===t.innerHTML}),enumerable:!0},transition:{get:Tt(function(){return Kt("transition")||!1}),enumerable:!0},transitionend:{get:Tt(function(){var t={KhtmlTransition:!1,OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e=Kt("transition")
return e&&t[e]}),enumerable:!0}})
o.prototype={add:function(){for(var t=arguments.length,e=this.get(this.node),n=e?e.trim().split(jt):[];t--;)-1===n.indexOf(arguments[t])&&n.push(arguments[t])
this.set(this.node,n.join(" "))},remove:function(){for(var t,e=arguments.length,n=this.get(this.node),r=n?n.trim().split(jt):[];e--;)-1!==(t=r.indexOf(arguments[e]))&&r.splice(t,1)
this.set(this.node,r.join(" "))},contains:function(t){var e=this.get(this.node)
return-1!==(e?e.trim().split(jt):[]).indexOf(t)}}
var $t=document.createElement("div"),zt={1:"element",3:"text",8:"comment",9:"document",10:"doctype",11:"fragment"},Ht=["circle","ellipse","g","line","rect","use","path","polygon","polyline","svg"],Wt={text:function(t){return document.createTextNode(t||"")},comment:function(t){return document.createComment(t||"")},fragment:function(t){var e=document.createDocumentFragment()
return t&&($t.innerHTML=t,A(e,$t.childNodes),$t.innerHTML=""),e}}
Ht.forEach(function(t){Wt[t]=function(e){var n=document.createElementNS("http://www.w3.org/2000/svg",t)
return e&&u(n,e),n}})
var Xt,Rt=It.textareaPlaceholderSet?function(t){return t.cloneNode(!0)}:function(t){var e,n=t.cloneNode(!0),r=mt.query("textarea",t),o=r.length
if(o)for(e=mt.query("textarea",n);o--;)e[o].value=r[o].value
return n},Yt={"transform:translateX":function(t){var e=B("transform",t)
if(!e||"none"===e)return 0
var n=j(e)
return parseFloat(n[4])},"transform:translateY":function(t){var e=B("transform",t)
if(!e||"none"===e)return 0
var n=j(e)
return parseFloat(n[5])},"transform:scale":function(t){var e=B("transform",t)
if(!e||"none"===e)return 0
var n=j(e),r=parseFloat(n[0]),o=parseFloat(n[1])
return Math.sqrt(r*r+o*o)},"transform:rotate":function(t){var e=B("transform",t)
if(!e||"none"===e)return 0
var n=j(e),r=parseFloat(n[0]),o=parseFloat(n[1])
return Math.atan2(o,r)}},Kt=function(t){function e(e){if(e in n.style)return e
for(var r,o=e.charAt(0).toUpperCase()+e.slice(1),i=t.length;i--;)if((r=t[i]+o)in n.style)return r
return!1}var n=document.createElement("div"),r={}
return function(t){return r[t]||(r[t]=e(t))}}(["Khtml","O","Moz","Webkit","ms"]),Gt={bubbles:!0},Jt=Symbol("events"),Ut={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"pageright",36:"pageleft",37:"left",38:"up",39:"right",40:"down",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",93:"cmd",186:";",187:"=",188:",",189:"-",190:".",191:"/",219:"[",220:"\\",221:"]",222:"'",224:"cmd"},Vt=Lt,Qt={xml:"application/xml",html:"text/html",svg:"image/svg+xml"},Zt=function(){var t=document.createElement("pre"),e=document.createTextNode("")
return t.appendChild(e),function(n){return e.textContent=n,t.innerHTML}}(),te=/(\d*\.?\d+)r?em/,ee=At(Nt,{number:Mt,string:function(t){var e,n
if(e=te.exec(t))return n=parseFloat(e[1]),st()*n
throw new Error("dom: "+t+"' cannot be parsed as rem, em or %.")}}),ne=At(Nt,{number:function(t){return t/st()}}),re=new Promise(function(e,n){function r(){document.removeEventListener("DOMContentLoaded",r),t.removeEventListener("load",r),e()}document.addEventListener("DOMContentLoaded",r),t.addEventListener("load",r)})
Et(mt,{ready:re.then.bind(re),get:function(t){return document.getElementById(t)||void 0},find:gt.deprecate(function(t){return document.getElementById(t)||void 0},"dom.find(id) is now dom.get(id)"),query:Ct(x,!0),closest:Ct(D,!0),contains:Ct(T,!0),matches:Ct(C,!0),children:E,next:S,previous:M,assign:Ct(i,!0),create:a,clone:Rt,identify:p,append:Ct(A,!0),before:Ct(_,!0),after:Ct(N,!0),replace:Ct(P,!0),empty:k,remove:q,isElementNode:s,isTextNode:f,isCommentNode:l,isFragmentNode:d,isInternalLink:h,type:c,tag:v,attribute:Ct(m,!0),classes:y,addClass:Ct(b,!0),removeClass:Ct(F,!0),flashClass:Ct(w,!0),box:H,bounds:W,rectangle:St(H,"dom.rectangle(node) now dom.box(node)"),offset:Ct(R,!0),position:X,prefix:Kt,style:Ct(function(t,e){if(Yt[t])return Yt[t](e)
var n=B(t,e)
return"string"==typeof n&&Bt.test(n)?parseFloat(n):n},!0),toPx:ee,toRem:ne,viewportLeft:I,viewportTop:$,fragmentFromTemplate:ut,fragmentFromChildren:ot,fragmentFromHTML:it,fragmentFromId:at,escape:Zt,parse:Ct(ct),Event:Y,delegate:et,isPrimaryButton:G,preventDefault:K,toKey:J,trapFocus:rt,trap:gt.deprecate(rt,"dom.trap() is now dom.trapFocus()"),events:{on:U,off:V,trigger:Q},on:gt.deprecate(Ct(nt,!0),"dom.on() is now dom.event()"),trigger:Ct(function(t,e){return Q(e,t),e},!0),event:Ct(nt,!0),transition:Ct(ft,!0),schedule:St(ft,"dom: .schedule() is now .transition()"),animate:Ct(lt,!0),animateScroll:dt,scrollTo:St(dt,"scrollTo(px, node) renamed to animateScroll(px)"),scrollRatio:ht,disableScroll:pt,enableScroll:vt,requestEvent:tt,requestFrame:requestAnimationFrame.bind(null),requestFrameN:Ct(St(function(t,e){!function n(){return requestAnimationFrame(--t?n:e)}()},"requestFrameN() will be removed soon"),!0),features:It,safe:xt({left:0},{right:{get:function(){return t.innerWidth},enumerable:!0,configurable:!0},top:{get:function(){return B("padding-top",document.body)},enumerable:!0,configurable:!0},bottom:{get:function(){return t.innerHeight},enumerable:!0,configurable:!0}})}),xt(mt,{root:{value:document.documentElement,enumerable:!0},head:{value:document.head,enumerable:!0},body:{get:function(){return document.body},enumerable:!0},viewport:{get:function(){return document.scrollingElement},enumerable:!0}}),t.dom=mt}(this),function(t){"use strict"
function e(t){return g.query('[href$="#'+t+'"]',g.body).filter(T(b,{a:g.isInternalLink,default:function(){return!0}})).concat(g.query('[data-href="#'+t+'"]',document))}function n(t){var e=A.get(t)
return e||(e={},A.set(t,e)),e}function r(t){var r=n(t),o=t.id
return r.node||(r.node=t),r.buttons||(r.buttons=L.cache&&o&&e(o)),r}function o(t){return L.cache&&t.buttons||t.node.id&&e(t.node.id)}function i(){var t,e=this.data||r(this.target)
e.active||(e.active=!0,this.preventDefault(),v&&console.log("[activate] default | target:",this.target.id,"data:",e),y(e.node).add(C),(t=o(e))&&t.forEach(function(t){g.classes(t).add(D)}))}function u(){var t,e=this.data||r(this.target)
e.active&&(e.active=!1,this.preventDefault(),v&&console.log("[deactivate] default | target:",this.target.id,"data:",e),y(e.node).remove(C),(t=o(e))&&t.forEach(function(t){g.classes(t).remove(D)}))}function a(t){var e=g.create("div",{class:"dialog-layer layer"}),n=g.create("div",{class:"dialog popable"}),r=g.create("button",{class:"close-thumb thumb"})
return g.append(n,t),g.append(e,n),g.append(e,r),g.append(document.body,e),n}function c(t){"mousedown"===t.type&&F(t.currentTarget,"click",function t(e){w(e.currentTarget,"click",t),e.preventDefault()})}function s(t){return!!t.defaultPrevented||(!g.isPrimaryButton(t)||(("keydown"===t.type||"keyup"===t.type)&&13!==t.keyCode||void 0))}function f(t,e){t.preventDefault(),"mousedown"===t.type&&c(t),E(e,"dom-activate",{relatedTarget:t.currentTarget})}function l(t){return(x(t.hash)?t.hash:t.getAttribute("href")).substring(1)}function d(t,e){var n=document.getElementById(e)
if(n){var r=g.classes(n)
r.contains("popable")||r.contains("switchable")||r.contains("toggleable")||r.contains("focusable")||r.contains("removeable")||r.contains("locateable")?f(t,n):g.activateOther&&g.activateOther(n)}}function h(t){if(!s(t)&&(!t.delegateTarget.hostname||g.isInternalLink(t.delegateTarget))){var e=l(t.delegateTarget)
e&&d(t,e)}}function p(t){var e=t.delegateTarget.target
if(!s(t)&&_[e])return _[e](t)}var v=!1,m=t.Fn,g=t.dom,y=g.classes,b=g.tag,F=g.events.on,w=g.events.off,E=g.events.trigger,x=m.isDefined,T=m.overload,C="active",D="on",S=t.location,M=S.hash,L={cache:!0},A=new WeakMap
F(document,"dom-activate",function(t){if(!t.defaultPrevented){var e=r(t.target)
if(e.active)return void t.preventDefault()
t.data=e,t.default=i}}),F(document,"dom-deactivate",function(t){if(!t.defaultPrevented){var e=r(t.target)
if(!e.active)return void t.preventDefault()
t.data=e,t.default=u}})
var k=g.trigger("dom-activate"),O={},q={},_={dialog:function(t){var e,n=t.delegateTarget.getAttribute("data-href")||t.delegateTarget.hash||t.delegateTarget.href,r=n.substring(1),o=O[r]||(O[r]=document.getElementById(r))
t.preventDefault(),o.getAttribute&&"text/html"===o.getAttribute("type")&&(e=g.create("fragment",o.innerHTML)),o.tagName&&"template"===o.tagName.toLowerCase()&&(o.content||g.remove(o),e=g.fragmentFromContent(o))
var i=q[r]||(q[r]=a(e))
E(i,"dom-activate")}}
F(document,"click",g.delegate("[href]",h)),F(document,"click",g.delegate("a[target]",p)),g.ready(function(){if(g("."+C).forEach(k),M&&/^#\S+$/.test(M))try{g(M).forEach(k)}catch(t){}})}(this),function(t){"use strict"
function e(t){var e=t.target.tagName
return e&&!!T[e.toLowerCase()]}function n(t,e){var n,r
if(t.identifiedTouch)return t.identifiedTouch(e)
for(n=-1,r=t.length;++n<r;)if(t[n].identifier===e)return t[n]}function r(t,e){var r=n(t.changedTouches,e.identifier)
if(r&&(r.pageX!==e.pageX||r.pageY!==e.pageY))return r}function o(t){A(t)&&(e(t)||(S(document,C.move,i,[t]),S(document,C.cancel,u,[t])))}function i(t,e){e.push(t),d(t,e,t,a)}function u(t,e){a()}function a(){M(document,C.move,i),M(document,C.cancel,u)}function c(t){if(!T[t.target.tagName.toLowerCase()]){var e=t.changedTouches[0],n={target:e.target,pageX:e.pageX,pageY:e.pageY,identifier:e.identifier,touchmove:function(){s.apply(this,arguments)},touchend:function(){f.apply(this,arguments)}}
S(document,D.move,n.touchmove,[n]),S(document,D.cancel,n.touchend,[n])}}function s(t,e){var n=r(t,e[0])
n&&d(t,e,n,l)}function f(t,e){n(t.changedTouches,e[0].identifier)&&l(e)}function l(t){M(document,D.move,t[0].touchmove),M(document,D.cancel,t[0].touchend)}function d(t,e,n,r){var o=n.pageX-e[0].pageX,i=n.pageY-e[0].pageY
if(!(o*o+i*i<x*x)){var u,a=e[0],c=e[0].target
r(e),L(e[0].target,"dom-touch",{pageX:a.pageX,pageY:a.pageY,detail:function(){return u||(u=b(c,e)),u}})}}function h(t,e){e.touch=t,e.timeStamp=t.timeStamp,e.stream.push(t)}function p(t,e){e.target
v(),e.stream.stop()}function v(){M(document,C.move,h),M(document,C.end,p)}function m(t,e){var n=r(t,e)
n&&(t.preventDefault(),e.touch=n,e.timeStamp=t.timeStamp,e.stream.push(n))}function g(t,e){n(t.changedTouches,e.identifier)&&(y(e),e.stream.stop())}function y(t){M(document,D.move,t.activeTouchmove),M(document,D.end,t.activeTouchend)}function b(t,e){var n=w.from(e).map(function(t){return{x:t.pageX-e[0].pageX,y:t.pageY-e[0].pageY,time:(t.timeStamp-e[0].timeStamp)/1e3}}),r={stream:n,target:t,touch:void 0,identifier:e[0].identifier}
return void 0===r.identifier?(S(t,"click",k),S(document,C.move,h,r),S(document,C.cancel,p,r)):(r.activeTouchmove=function(t,e){m(t,e)},r.activeTouchend=function(t,e){g(t,e)},S(document,D.move,r.activeTouchmove,r),S(document,D.end,r.activeTouchend,r)),n.then(function(){setTimeout(function(){M(t,"click",k)},200)}),n}var F=t.Fn,w=t.Stream,E=t.dom,x=8,T={textarea:!0,input:!0,select:!0,button:!0},C={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},D={move:"touchmove",cancel:"touchend",end:"touchend"},S=(F.requestTick,E.events.on),M=E.events.off,L=E.events.trigger,A=E.isPrimaryButton,k=E.preventDefault
S(document,"mousedown",o),S(document,"touchstart",c)}(this),function(t){"use strict"
function e(t,e){e=e.shift()
var r=n.toPolar([e.x,e.y])
i(t,"dom-swipe",{detail:e,angle:r[1],velocity:r[0]/e.time})}var n=t.Fn,r=t.dom,o=r.events.on,i=r.events.trigger,u=r.closest
o(document,"dom-touch",function(t){if(!t.defaultPrevented){var n=u(".swipeable",t.target)
if(n){var r=t.detail(),o=r.clone().latest()
o.then(function(){e(n,o)})}}})}(this),function(t){function e(t){if(t.default){var e=t.target
r.classes(e).contains(o)&&(requestAnimationFrame(function(){function t(t){e.contains(t.target)||e===t.target||i(e,"dom-deactivate")}function n(r){e===r.target&&(r.defaultPrevented||(document.removeEventListener("click",t),document.removeEventListener("dom-deactivate",n)))}document.addEventListener("click",t),document.addEventListener("dom-deactivate",n)}),t.default())}}function n(t){if(t.default){var e=t.target
r.classes(e).contains(o)&&t.default()}}var r=t.dom,o="popable",i=r.events.trigger
document.addEventListener("dom-activate",e),document.addEventListener("dom-deactivate",n)}(this),function(t){"use strict"
function e(t,e){if(!t.defaultPrevented&&o.isPrimaryButton(t)){t.currentTarget&&(c(e,"dom-deactivate",{relatedTarget:t.target}),t.preventDefault())}}function n(t){if(t.default){var n=t.target
if(o.classes(n).contains(i)){var r=o.identify(n)
o('[href$="#'+r+'"]').forEach(function(n){u(n,"click",e,t.target)}),t.default()}}}function r(t,n,r){if(t.default){var u=t.target
if(o.classes(u).contains(i)){var c=o.identify(t.target)
o('[href$="#'+c+'"]').forEach(function(t){a(t,"click",e)}),t.default()}}}var o=t.dom,i="toggleable",u=o.events.on,a=o.events.off,c=o.events.trigger
u(document,"dom-activate",n),u(document,"dom-deactivate",r)}(this),function(t){"use strict"
function e(t){if(t.default){var e=t.target
if(o.classes(e).contains(i)){var n=o.query(".switchable",e.parentNode),u=n.indexOf(e)
n.splice(u,1)
var c=n.filter(o.matches(".active"))
t.default(),r.from(c).each(a)}}}function n(t){if(t.default){var e=t.target
o.classes(e).contains(i)&&t.default()}}var r=t.Fn,o=t.dom,i="switchable",u=o.events.on,a=o.trigger("dom-deactivate")
u(document,"dom-activate",e),u(document,"dom-deactivate",n)}(this),function(t){"use strict"
function e(t){return Math.atan(t)/Math.PI}function n(t){var e=i(a(t).filter(u.matches(".switchable"))),n=e.offsetLeft+e.clientWidth
return t.parentNode.clientWidth-n}function r(t,e){var n=u.viewportLeft(t),r=u.viewportLeft(e),o=Math.round(n-r-u.style("margin-left",e))
t.style.transform="translate("+o+"px, 0px)"}var o=t.Fn,i=o.last,u=t.dom,a=u.children,c=u.events.on,s=u.events.trigger,f=u.closest,l=2*Math.PI,d=/\s+/
c(document,"dom-touch",function(t){if(!t.defaultPrevented){var r=f(".swipeable",t.target)
if(r){var o=u.classes(r),i=u.style("transform",r)
i=i&&"none"!==i?i:""
var a=u.style("transform:translateX",r),c=!1,s=!1,l=u.attribute("data-slide-min",r),h=u.attribute("data-slide-max",r)
l||h?(c=/elastic/.test(l),s=/elastic/.test(h),l=parseFloat(l)||0,h=parseFloat(h)||0):(c=!0,s=!0,l=n(r),h=0),o.add("notransition")
var p=a
t.detail().map(function(t){p=a+t.x
var n=p>0?s?800*e(p/800)-a:h:p<l?c?800*e((p-l)/800)+l-a:l:t.x
return i+" translate("+n+"px, 0px)"}).each(function(t){r.style.transform=t}).then(function(){o.remove("notransition")
var t=u.attribute("data-slide-snap",r)
if(t){t=t.split(d).map(parseFloat)
var e=t.reduce(function(t,e){return Math.abs(e-p)<Math.abs(t-p)?e:t})
r.style.transform=i+" translate("+e+"px, 0px)"}})}}}),c(document,"dom-swipe",function(t){if(!t.defaultPrevented){var e=f(".swipeable",t.target)
if(e){var n=o.wrap(0,l,t.angle||0),i=n>1*l/8&&n<3*l/8?"previousElementSibling":n>5*l/8&&n<7*l/8&&"nextElementSibling"
if(i){var c=a(e).filter(u.matches(".active")).shift()
c[i]?s(c[i],"dom-activate"):r(e,c)}}}}),c(document,"dom-activate",function(t){if(t.default){var e=t.target,n=e.parentNode
if(u.matches(".swipeable",n)){u.classes(n).remove("notransition"),document.documentElement.clientWidth
var r=u.viewportLeft(e),o=u.viewportLeft(n),i=r-o-u.style("margin-left",e)
n.style.transform="translate("+-i+"px, 0px)",t.preventDefault()}}})}(this),function(t){"use strict"
var e=t.Fn,n=t.dom,r=e.noop,o=(e.requestTick,n.events.on),i=n.events.off,u=n.events.trigger,a=n.disableScroll,c=n.enableScroll,s=n.trapFocus,f=r,l=n.matches(".focusable")
o(document,"dom-activate",function(t){if(!t.defaultPrevented&&l(t.target)){var e=t.target,r=function t(e){clearTimeout(c),i(e.target,"transitionend",t),f=s(e.target)},c=setTimeout(r,600,t)
o(t.target,"transitionend",r),a(n.root),requestAnimationFrame(function(){function t(t){27===t.keyCode&&(u(e,"dom-deactivate"),t.preventDefault())}function n(r){e===r.target&&(r.defaultPrevented||(document.removeEventListener("keydown",t),document.removeEventListener("dom-deactivate",n)))}document.addEventListener("keydown",t),document.addEventListener("dom-deactivate",n)})}}),o(document,"dom-deactivate",function(t){if(!t.defaultPrevented&&l(t.target)){var e=function t(e){clearTimeout(u),i(e.target,"transitionend",t),f(),f=r},u=setTimeout(e,600,t)
o(t.target,"transitionend",e),c(n.root)}})}(this),function(t){"use strict"
function e(t,e,c){function s(){clearTimeout(l),u(f,"transitionend",s),a(f)}if(t.default){var f=t.target
if(n.classes(f).contains(r)){var l=setTimeout(s,1e3*o)
i(f,"transitionend",s),t.default()}}}var n=t.dom,r="removeable",o=1,i=n.events.on,u=n.events.off,a=n.remove
i(document,"dom-deactivate",e)}(this),function(t){function e(t){if(t.default){var e=t.target
if(h(e).contains(g)&&e!==u){if(u){if(e===u)return
E(),c.trigger("dom-deactivate",u)}var n,r,o=t.timeStamp;(w>o||o>w+y)&&(n=v(c.viewport,e),r=c.safe.top,w=o+1e3*b,E=d(b,F,"scrollTop",c.viewport,n[1]-r)),t.default(),u=e}}}function n(t){if(t.default){var e=t.target
h(e).contains(g)&&(t.default(),e===u&&(u=void 0))}}function r(){return{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}}function o(){for(var t=c(".locateable"),e=t.map(p).sort(s("top")),n=r(),o=-1;e[++o]&&!(e[o].top>n.height/2););if(!(--o<0||o>=e.length)){var i=t[o]
if(u){if(i===u)return
c.trigger("dom-deactivate",u)}c.trigger("dom-activate",i)}}function i(t){w>=t.timeStamp||(w=t.timeStamp,o())}var u,a=t.Fn,c=t.dom,s=a.by,f=a.noop,l=a.exponentialOut,d=c.animate,h=c.classes,p=c.box,v=c.offset,m=c.events.on,g="locateable",y=90,b=.8,F=l(6),w=0,E=f
m(document,"dom-activate",e),m(document,"dom-deactivate",n),m(t,"scroll",i),o()}(this)
